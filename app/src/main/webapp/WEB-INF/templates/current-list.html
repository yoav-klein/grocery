<!DOCTYPE html>
<html lang="en" dir="ltr">
<head th:include="~{layout :: head(~{::link},~{})}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" th:href="@{/css/shared.css}">
    <link rel="stylesheet" th:href="@{/css/current-list.css}">
</head>
<body th:replace="~{layout :: layout(~{::main},~{::script})}">
    <main>
        <!-- template for adding items in JavaScript -->
        <template id="item-template">
            <li class="category-item">
                <p class="item-quantity">0</p>
                <p class="item-quantity-type">Kg</p>
                <p class="item-name"><span>Fish</span></p>
                <p class="checkbox-container">
                    <input class="delete-checkbox" type="checkbox">
                    <label></label>
                </p>
            </li>
        </template>
        <template id="category-template">
            <article class="category">
                <h2>CATEGORY NAME</h2>
                <ul>

                </ul>
            </article>
        </template>
        <section id="list" class="category-grid">
            <article class="category" th:each="category : ${itemsByCategory}" th:id="'category-' + ${category.key}">
                <h2 th:text="#{${'category.title.' + category.key}}">VEGETABLES</h2>
                <ul>
                    <li th:each="item : ${category.value}" class="category-item" th:id="'item-' + ${item.id}">
                        <p class="item-quantity" th:text="${item.quantity}">3</p>
                        <p class="item-quantity-type" th:text="#{${'additem.quantitytype.' + item.quantityType}}">Kg</p>
                        <p class="item-name"><span th:text="${item.name}">Tomato</span></p>
                        <p class="checkbox-container">
                            <input class="delete-checkbox" type="checkbox" th:id="'delete-checkbox-' + ${item.id}">
                            <label th:for="'delete-checkbox-' + ${item.id}"></label>
                        </p>
                    </li>
                </ul>
            </article>
        </section>
        <button id="add-item-button" class="add-button">+</button>
        <dialog id="add-item-dialog" class="half-screen-dialog">
            <form id="new-item-form">
                <fieldset>
                    <p>
                        <label for="name">Name</label>
                        <input name="name" class="long-input" type="text" id="name">
                    </p>
                    <p>
                        <label for="quantity">Quantity</label>
                        <input name="quantity" type="number" class="quantity-input" id="quantity">
                        
                        <select name="quantityType">
                            <option th:each="type : ${allQuantityTypes}" th:value="${type}" th:text="${type}">Kg</option>
                            <option th:remove="all">Unit</option>
                        </select>
                    </p>
                    <p>
                        <label for="category" th:text="#{additem.label.category}">Category</label>
                        <select name="category" class="long-input">
                            <option th:each="category : ${allCategories}" th:value="${category}" th:text="${category}">Vegetables</option>
                            <option th:remove="all">Fruits</option>
                            <option th:remove="all">Dairy</option>
                        </select>
                    </p>
                    
                    <p class="submit-button-container">
                        <button id="new-item-button" class="submit-button" type="submit" name="save">Submit!</button>
                    </p>
                
                </fieldset>
            </form>
        </dialog>
        
    </main>
    <script th:src="@{/js/current-list.js}"></script>
</body>
</html>